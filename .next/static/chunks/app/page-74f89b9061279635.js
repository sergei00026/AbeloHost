(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1186:function(e,t,r){Promise.resolve().then(r.bind(r,9298))},4421:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var s=r(7437),n=r(9693),u=r.n(n);function c(){return(0,s.jsx)("div",{className:u().loader,children:"Loading..."})}},9298:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var s=r(7437),n=r(2265),u=r(6277),c=r(6324),o=r(1780),i=r.n(o);function a(e){let{product:t}=e,r=(0,c.L)(e=>e.user);return(0,s.jsxs)("div",{className:i().card,children:[(0,s.jsx)("img",{src:t.thumbnail,alt:t.title}),(0,s.jsx)("h3",{children:t.title}),(0,s.jsx)("p",{children:t.category}),(0,s.jsxs)("span",{children:["$",t.price]}),r&&(0,s.jsx)("button",{children:"Add to cart"})]})}var l=r(4421),d=r(8937),f=r.n(d);function m(){(0,c.L)(e=>e.user);let[e,t]=(0,n.useState)([]),[r,o]=(0,n.useState)(!0),[i,d]=(0,n.useState)(""),[m,p]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{p(!0)},[]),(0,n.useEffect)(()=>{m&&u.Z.get("/products?limit=12").then(e=>t(e.data.products)).catch(()=>d("Ошибка загрузки товаров")).finally(()=>o(!1))},[m]),m)?r?(0,s.jsx)(l.Z,{}):i?(0,s.jsx)("div",{className:f().error,children:i}):(0,s.jsx)("div",{className:f().productsGrid,children:e.map(e=>(0,s.jsx)(a,{product:e},e.id))}):null}},6324:function(e,t,r){"use strict";r.d(t,{L:function(){return s}});let s=(0,r(3011).U)(e=>({user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,setUser:t=>{e({user:t}),localStorage.setItem("user",JSON.stringify(t))},logout:()=>{e({user:null}),localStorage.removeItem("user")},updateTokens:(t,r)=>e(e=>e.user?(()=>{let s={...e.user,accessToken:t,refreshToken:r};return localStorage.setItem("user",JSON.stringify(s)),{user:s}})():{})}))},6277:function(e,t,r){"use strict";let s=r(3464).Z.create({baseURL:"https://dummyjson.com"});t.Z=s},8937:function(e){e.exports={productsGrid:"Home_productsGrid__NV383",error:"Home_error__giCQQ"}},9693:function(e){e.exports={loader:"Loader_loader__tnucl"}},1780:function(e){e.exports={card:"ProductCard_card__SYf4d"}}},function(e){e.O(0,[80,538,971,117,744],function(){return e(e.s=1186)}),_N_E=e.O()}]);