(()=>{var e={};e.id=626,e.ids=[626],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},8889:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>d,routeModule:()=>x,tree:()=>u}),t(4687),t(4085),t(5866);var s=t(3191),o=t(8716),n=t(7922),i=t.n(n),a=t(5231),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);t.d(r,l);let u=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4687)),"C:\\Users\\serg\\Desktop\\Тестовые задания\\AbeloHost\\app\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4085)),"C:\\Users\\serg\\Desktop\\Тестовые задания\\AbeloHost\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\serg\\Desktop\\Тестовые задания\\AbeloHost\\app\\login\\page.tsx"],c="/login/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},1974:(e,r,t)=>{Promise.resolve().then(t.bind(t,1211)),Promise.resolve().then(t.bind(t,3850))},148:(e,r,t)=>{Promise.resolve().then(t.bind(t,1442))},1128:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},1211:(e,r,t)=>{"use strict";t.d(r,{default:()=>l});var s=t(326),o=t(7484),n=t.n(o),i=t(6726),a=t(7577);function l(){let e=(0,i.L)(e=>e.user),r=new Date().getFullYear(),[t,o]=(0,a.useState)(!1);return t?(0,s.jsxs)("footer",{className:n().footer,children:[s.jsx("span",{children:r}),e&&(0,s.jsxs)("span",{children:["Logged as ",e.email]})]}):null}},3850:(e,r,t)=>{"use strict";t.d(r,{default:()=>u});var s=t(326),o=t(434),n=t(6119),i=t.n(n),a=t(6726),l=t(7577);function u(){let{user:e,logout:r}=(0,a.L)(),[t,n]=(0,l.useState)(!1);return t?(0,s.jsxs)("header",{className:i().header,children:[s.jsx("div",{className:i().logo,children:"AbeloHost"}),s.jsx("nav",{children:e?(0,s.jsxs)("div",{className:i().userBlock,children:[(0,s.jsxs)("span",{children:[e.firstName," ",e.lastName]}),s.jsx("button",{className:i().logout,onClick:r,children:"Logout"})]}):s.jsx(o.default,{href:"/login",className:i().link,children:"Login"})})]}):null}},8713:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var s=t(326),o=t(7505),n=t.n(o);function i(){return s.jsx("div",{className:n().loader,children:"Loading..."})}},1442:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(326),o=t(7577),n=t(1510),i=t(6726),a=t(8713),l=t(5238),u=t.n(l);function d(){let[e,r]=(0,o.useState)(""),[t,l]=(0,o.useState)(""),[d,c]=(0,o.useState)(""),[p,x]=(0,o.useState)(!1),g=(0,i.L)(e=>e.setUser),h=async r=>{if(r.preventDefault(),c(""),e.length<3||t.length<3){c("Минимум 3 символа в каждом поле");return}x(!0);try{let{accessToken:r,refreshToken:s,id:o,firstName:i,lastName:a,email:l,username:u}=(await n.Z.post("/auth/login",{username:e,password:t})).data;g({id:o,firstName:i,lastName:a,email:l,username:u,accessToken:r,refreshToken:s}),window.location.href="/AbeloHost/"}catch(e){c("Неверный логин или пароль")}finally{x(!1)}};return s.jsx("div",{className:u().loginContainer,children:(0,s.jsxs)("form",{className:u().form,onSubmit:h,children:[s.jsx("h2",{children:"Login"}),s.jsx("input",{type:"text",placeholder:"Username",value:e,minLength:3,onChange:e=>r(e.target.value),required:!0}),s.jsx("input",{type:"password",placeholder:"Password",value:t,minLength:3,onChange:e=>l(e.target.value),required:!0}),s.jsx("button",{type:"submit",disabled:p,children:p?s.jsx(a.Z,{}):"Login"}),d&&s.jsx("div",{className:u().error,children:d})]})})}},6726:(e,r,t)=>{"use strict";t.d(r,{L:()=>s});let s=(0,t(8408).U)(e=>({user:null,setUser:r=>{e({user:r})},logout:()=>{e({user:null})},updateTokens:(r,t)=>e(e=>e.user?{user:{...e.user,accessToken:r,refreshToken:t}}:{})}))},1510:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=t(4099).Z.create({baseURL:"https://dummyjson.com"})},7484:e=>{e.exports={footer:"Footer_footer__x7vJd"}},6119:e=>{e.exports={header:"Header_header__SQD4u",logo:"Header_logo__0BY1u",link:"Header_link__XzVqI",logout:"Header_logout__VnMl6",userBlock:"Header_userBlock__e_tpI"}},7505:e=>{e.exports={loader:"Loader_loader__tnucl"}},5238:e=>{e.exports={loginContainer:"Login_loginContainer__Z6LLs",form:"Login_form__6Q0fK",error:"Login_error__7pOy6"}},4085:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(9510);t(9937);var o=t(8570);let n=(0,o.createProxy)(String.raw`C:\Users\serg\Desktop\Тестовые задания\AbeloHost\app\components\Header.tsx#default`),i=(0,o.createProxy)(String.raw`C:\Users\serg\Desktop\Тестовые задания\AbeloHost\app\components\Footer.tsx#default`);function a({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{children:[s.jsx(n,{}),s.jsx("main",{children:e}),s.jsx(i,{})]})})}},4687:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`C:\Users\serg\Desktop\Тестовые задания\AbeloHost\app\login\page.tsx#default`)},9937:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[856,99],()=>t(8889));module.exports=s})();